# ü§ñ CRM AI Agent - –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏

## üöÄ –ë—ã—Å—Ç—Ä—ã–π –∑–∞–ø—É—Å–∫

### –í–∞—Ä–∏–∞–Ω—Ç 1: –ß–∏—Å—Ç—ã–π –∑–∞–ø—É—Å–∫ (–†–ï–ö–û–ú–ï–ù–î–£–ï–¢–°–Ø)
–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Ñ–∞–π–ª:
```
start-clean.bat
```
‚úÖ **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
1. –£–±–∏–≤–∞–µ—Ç –≤—Å–µ —Å—Ç–∞—Ä—ã–µ Node –ø—Ä–æ—Ü–µ—Å—Å—ã
2. –ñ–¥—ë—Ç 2 —Å–µ–∫—É–Ω–¥—ã
3. –ó–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ –∑–∞–Ω–æ–≤–æ

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: –¢–æ–ª—å–∫–æ —É–±–∏—Ç—å –ø—Ä–æ—Ü–µ—Å—Å—ã
–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Ñ–∞–π–ª:
```
kill-bot.bat
```
‚ö†Ô∏è **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –í–°–ï Node.js –ø—Ä–æ—Ü–µ—Å—Å—ã

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å
–î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫ –Ω–∞ —Ñ–∞–π–ª:
```
check-processes.bat
```
üìä **–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö Node –ø—Ä–æ—Ü–µ—Å—Å–æ–≤
- –ù–µ –∑–∞–≤–µ—Ä—à–∞–µ—Ç –∏—Ö

---

## üêõ –ß–∞—Å—Ç—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### –ü—Ä–æ–±–ª–µ–º–∞: "Telegram 409 Conflict"
```
Error: terminated by other getUpdates request
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `kill-bot.bat`
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫—É–Ω–¥
3. –ó–∞–ø—É—Å—Ç–∏—Ç–µ `start-clean.bat`

---

### –ü—Ä–æ–±–ª–µ–º–∞: "Chat not found"
```
Bad Request: chat not found
```

**–†–µ—à–µ–Ω–∏–µ:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ Telegram
2. –ù–∞–π–¥–∏—Ç–µ –≤–∞—à–µ–≥–æ –±–æ—Ç–∞ (—Ç–æ–∫–µ–Ω –∏–∑ `.env`)
3. –û—Ç–ø—Ä–∞–≤—å—Ç–µ `/start`
4. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç–µ –±–æ—Ç–∞

---

### –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ—Å–∫–æ–ª—å–∫–æ –ø—Ä–æ—Ü–µ—Å—Å–æ–≤ –∑–∞–ª–∏–ø–ª–∏

**–ü—Ä–æ–≤–µ—Ä–∫–∞:**
```bash
check-processes.bat
```

**–ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ node.exe:**
```bash
kill-bot.bat
```

---

## üìã –†—É—á–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

–ï—Å–ª–∏ bat-—Ñ–∞–π–ª—ã –Ω–µ —Ä–∞–±–æ—Ç–∞—é—Ç, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ PowerShell:

**–£–±–∏—Ç—å –≤—Å–µ Node –ø—Ä–æ—Ü–µ—Å—Å—ã:**
```powershell
Get-Process node -ErrorAction SilentlyContinue | Stop-Process -Force
```

**–ù–∞–π—Ç–∏ –ø—Ä–æ—Ü–µ—Å—Å—ã –Ω–∞ –ø–æ—Ä—Ç—É (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
```powershell
netstat -ano | findstr :–ü–û–†–¢
taskkill /F /PID <PID>
```

---

## üéØ –†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π workflow

**–ö–∞–∂–¥—ã–π —Ä–∞–∑ –∫–æ–≥–¥–∞ –∑–∞–ø—É—Å–∫–∞–µ—Ç–µ –±–æ—Ç–∞:**
```
1. –î–≤–æ–π–Ω–æ–π –∫–ª–∏–∫: start-clean.bat
2. –î–æ–∂–¥–∏—Ç–µ—Å—å "Services initialized..."
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ Telegram
```

**–ï—Å–ª–∏ —á—Ç–æ-—Ç–æ –ø–æ—à–ª–æ –Ω–µ —Ç–∞–∫:**
```
1. Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
2. kill-bot.bat
3. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5 —Å–µ–∫
4. start-clean.bat
```

---

## üí° –û–±—ä—è—Å–Ω–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

**–ü–æ—á–µ–º—É –ø—Ä–æ—Ü–µ—Å—Å—ã –∑–∞–ª–∏–ø–∞—é—Ç:**
- `npm run dev` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `tsx watch` - —Å–ª–µ–¥–∏—Ç –∑–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è–º–∏
- –ü—Ä–∏ Ctrl+C –∏–Ω–æ–≥–¥–∞ –æ—Å—Ç–∞—ë—Ç—Å—è —Ñ–æ–Ω–æ–≤—ã–π –ø—Ä–æ—Ü–µ—Å—Å
- Telegram –±–æ—Ç –º–æ–∂–µ—Ç –¥–µ—Ä–∂–∞—Ç—å —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ
- –ù–µ—Å–∫–æ–ª—å–∫–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–æ–Ω—Ñ–ª–∏–∫—Ç—É—é—Ç

**–ü–æ—á–µ–º—É 409 Conflict:**
- Telegram API –ø–æ–∑–≤–æ–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –û–î–ù–û –∞–∫—Ç–∏–≤–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- –ï—Å–ª–∏ –∑–∞–ø—É—â–µ–Ω–æ 2+ –±–æ—Ç–∞ —Å –æ–¥–Ω–∏–º —Ç–æ–∫–µ–Ω–æ–º ‚Üí –æ—à–∏–±–∫–∞
- `kill-bot.bat` –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç —á—Ç–æ —Å—Ç–∞—Ä—ã–µ —É–±–∏—Ç—ã

---

## üîß –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ

### –î–æ–±–∞–≤–∏—Ç—å –≤ PATH (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

–ï—Å–ª–∏ —Ö–æ—Ç–∏—Ç–µ –∑–∞–ø—É—Å–∫–∞—Ç—å –∏–∑ –ª—é–±–æ–π –ø–∞–ø–∫–∏:
1. Win + R ‚Üí `sysdm.cpl`
2. Advanced ‚Üí Environment Variables
3. Path ‚Üí Edit ‚Üí New
4. –î–æ–±–∞–≤—å—Ç–µ: `C:\D\VibeCode\CRM_vibe`

–¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –≤ –ª—é–±–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
```bash
start-clean
```

---

## üìû –ß–∞—Å—Ç—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏

**–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –¥–Ω—è**
```
start-clean.bat
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 2: –ò–∑–º–µ–Ω–∏–ª–∏ –∫–æ–¥, –Ω—É–∂–µ–Ω —Ä–µ—Å—Ç–∞—Ä—Ç**
```
Ctrl+C –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
start-clean.bat
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 3: –ë–æ—Ç –≥–ª—é—á–∏—Ç**
```
kill-bot.bat
–ü–æ–¥–æ–∂–¥–∞—Ç—å 5 —Å–µ–∫
start-clean.bat
```

**–°—Ü–µ–Ω–∞—Ä–∏–π 4: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —á—Ç–æ —Ç–≤–æ—Ä–∏—Ç—Å—è**
```
check-processes.bat
```

---

## ‚úÖ Checklist –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º

- [ ] Telegram –±–æ—Ç –ø–æ–ª—É—á–∏–ª `/start`
- [ ] `.env` –∑–∞–ø–æ–ª–Ω–µ–Ω (GOOGLE_GENERATIVE_AI_API_KEY, TELEGRAM_BOT_TOKEN, etc)
- [ ] amoCRM —Ç–æ–∫–µ–Ω –∞–∫—Ç—É–∞–ª–µ–Ω (–µ—Å–ª–∏ –Ω–µ—Ç - `npx tsx src/setup-auth.ts`)
- [ ] –ù–µ—Ç –¥—Ä—É–≥–∏—Ö –∑–∞–ø—É—â–µ–Ω–Ω—ã—Ö —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ (`check-processes.bat`)

**–í—Å—ë –≥–æ—Ç–æ–≤–æ?** ‚Üí `start-clean.bat`

---

–ì–æ—Ç–æ–≤–æ! –¢–µ–ø–µ—Ä—å –≤—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∫–ª–∏–∫–∞—Ç—å –Ω–∞ `start-clean.bat` –∫–∞–∂–¥—ã–π —Ä–∞–∑. –ù–∏–∫–∞–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –Ω–µ –Ω—É–∂–Ω–æ! üöÄ
